<!-- Campos para inserir novos produtos -->
<div class="produto-add">
  <h2>Inserir Novo Produto</h2>
  <label for="name">Nome:</label>
  <input type="text" id="name" [(ngModel)]="novoProduto.name" />

  <label for="description">Descrição:</label>
  <textarea
    type="text"
    id="description"
    [(ngModel)]="novoProduto.description"
  ></textarea>

  <label for="image">Imagem URL:</label>
  <input type="text" id="image" [(ngModel)]="novoProduto.image" />

  <label for="value">Valor:</label>
  <input type="number" id="value" [(ngModel)]="novoProduto.value" />

  <button (click)="inserirProduto()">Adicionar Produto</button>
</div>

<!-- Lista de produtos existentes -->
<ul>
  <h2>Produtos</h2>
  <li *ngFor="let produto of produtos" class="produto-card">
    <div class="produto-image">
      <img src="{{ produto.image }}" alt="{{ produto.name }}" />
    </div>
    <div class="produto-info">
      <h3 (click)="produto.editing = !produto.editing">
        <ng-container *ngIf="produto.editing; else displayNome">{{
          produto.name
        }}</ng-container>
        <ng-template #displayNome>
          <span>{{ produto.name }}</span>
        </ng-template>
      </h3>

      <label for="descricao-{{ produto.id }}">Descrição:</label>
      <textarea
        *ngIf="produto.editing"
        id="descricao-{{ produto.id }}"
        [(ngModel)]="produto.description"
      ></textarea>
      <span *ngIf="!produto.editing">{{ produto.description }}</span>

      <label for="valor-{{ produto.id }}">Valor:</label>
      <input
        *ngIf="produto.editing"
        type="number"
        id="valor-{{ produto.id }}"
        [(ngModel)]="produto.value"
      />
      <span *ngIf="!produto.editing">{{ produto.value }}</span>

      <label for="imagem-{{ produto.id }}">Imagem URL:</label>
      <input
        *ngIf="produto.editing"
        type="text"
        id="imagem-{{ produto.id }}"
        [(ngModel)]="produto.image"
      />
      <span *ngIf="!produto.editing">{{ produto.image }}</span>

      <label for="type{{ produto.id }}">Tipo:</label>
      <input
        *ngIf="produto.editing"
        type="text"
        id="type-{{ produto.id }}"
        [(ngModel)]="produto.type"
      />
      <span *ngIf="!produto.editing">{{ produto.type }}</span>

      <button (click)="salvarProduto(produto)">
        {{ produto.editing ? "Salvar" : "Editar" }}
      </button>
      <button (click)="deletarProduto(produto.id)">Deletar</button>
    </div>
  </li>
</ul>
